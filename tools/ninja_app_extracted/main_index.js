r e={4166:(e,t,r)=>{function s(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(1329)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var s="color: "+this.color;e.splice(1,0,s,"color: inherit");var n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),e.splice(o,0,s)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=s,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())},1329:(e,t,r)=>{var s;function n(e){function r(){if(r.enabled){var e=r,n=+new Date,o=n-(s||n);e.diff=o,e.prev=s,e.curr=n,s=n;for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,s){if("%%"===r)return r;c++;var n=t.formatters[s];if("function"==typeof n){var o=a[c];r=n.call(e,o),a.splice(c,1),c--}return r})),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,s=0;for(r in e)s=(s<<5)-s+e.charCodeAt(r),s|=0;return t.colors[Math.abs(s)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length,n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,s;for(r=0,s=t.skips.length;r<s;r++)if(t.skips[r].test(e))return!1;for(r=0,s=t.names.length;r<s;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(5438),t.names=[],t.skips=[],t.formatters={}},5014:(e,t,r)=>{"undefined"!=typeof process&&"renderer"===process.type?e.exports=r(4166):e.exports=r(236)},236:(e,t,r)=>{var s=r(2018),n=r(9023);(t=e.exports=r(1329)).init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),s=0;s<r.length;s++)e.inspectOpts[r[s]]=t.inspectOpts[r[s]]},t.log=function(){return a.write(n.format.apply(n,arguments)+"\n")},t.formatArgs=function(e){var r=this.namespace;if(this.useColors){var s=this.color,n="  [3"+s+";1m"+r+" [0m";e[0]=n+e[0].split("\n").join("\n"+n),e.push("[3"+s+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+r+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=i,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):s.isatty(o)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),s=process.env[t];return s=!!/^(yes|on|true|enabled)$/i.test(s)||!/^(no|off|false|disabled)$/i.test(s)&&("null"===s?null:Number(s)),e[r]=s,e}),{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&n.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var a=1===o?process.stdout:2===o?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new s.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":(t=new(r(9896).SyncWriteStream)(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(t=new(r(9278).Socket)({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(o);function i(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts)},t.enable(i())},728:(e,t,r)=>{"use strict";const s=r(8826);class n{static instances={};dependencies={};errorHandler=null;eventLogger=null;functions={};hooks=[];isDev=!1;levels=null;logId=null;scope=null;transports={};variables={};constructor({allowUnknownLevel:e=!1,dependencies:t={},errorHandler:r,eventLogger:o,initializeFn:a,isDev:i=!1,levels:c=["error","warn","info","verbose","debug","silly"],logId:l,transportFactories:p={},variables:u}={}){this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=e,this.dependencies=t,this.initializeFn=a,this.isDev=i,this.levels=c,this.logId=l,this.transportFactories=p,this.variables=u||{},this.scope=s(this),this.addLevel("log",!1);for(const e of this.levels)this.addLevel(e,!1);this.errorHandler=r,r?.setOptions({...t,logFn:this.error}),this.eventLogger=o,o?.setOptions({...t,logger:this});for(const[e,r]of Object.entries(p))this.transports[e]=r(this,t);n.instances[l]=this}static getInstance({logId:e}){return this.instances[e]||this.instances.default}addLevel(e,t=this.levels.length){!1!==t&&this.levels.splice(t,0,e),this[e]=(...t)=>this.logData(t,{level:e}),this.functions[e]=this[e]}catchErrors(e){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(e)}create(e){return"string"==typeof e&&(e={logId:e}),new n({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...e})}compareLevels(e,t,r=this.levels){const s=r.indexOf(e),n=r.indexOf(t);return-1===n||-1===s||n<=s}initialize(e={}){this.initializeFn({logger:this,...this.dependencies,...e})}logData(e,t={}){this.processMessage({data:e,...t})}processMessage(e,{transports:t=this.transports}={}){if("errorHandler"===e.cmd)return void this.errorHandler.handle(e.error,{errorName:e.errorName,processType:"renderer",showDialog:Boolean(e.showDialog)});let r=e.level;this.allowUnknownLevel||(r=this.levels.includes(e.level)?e.level:"info");const s={date:new Date,...e,level:r,variables:{...this.variables,...e.variables}};for(const[r,n]of this.transportEntries(t))if("function"==typeof n&&!1!==n.level&&this.compareLevels(n.level,e.level))try{const e=this.hooks.reduce(((e,t)=>e?t(e,n,r):e),s);e&&n({...e,data:[...e.data]})}catch(e){this.processInternalErrorFn(e)}}processInternalErrorFn(e){}transportEntries(e=this.transports){return(Array.isArray(e)?e:Object.entries(e)).map((e=>{switch(typeof e){case"string":return this.transports[e]?[e,this.transports[e]]:null;case"function":return[e.name,e];default:return Array.isArray(e)?e:null}})).filter(Boolean)}}e.exports=n},8826:e=>{"use strict";e.exports=function(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const s={};for(const t of[...e.levels,"log"])s[t]=(...s)=>e.logData(s,{level:t,scope:r});return s}}},7200:(e,t,r)=>{"use strict";const s="undefined"==typeof process||"renderer"===process.type||"worker"===process.type,n="object"==typeof process&&"browser"===process.type;s?(r(7165),e.exports=r(1610)):e.exports=r(n?5200:7901)},3535:(e,t,r)=>{"use strict";const s=r(6928),n=r(8872);e.exports=class extends n{electron=void 0;constructor({electron:e}={}){super(),this.electron=e}getAppName(){let e;try{e=this.appName||this.electron.app?.name||this.electron.app?.getName()}catch{}return e||super.getAppName()}getAppUserDataPath(e){return this.getPath("userData")||super.getAppUserDataPath(e)}getAppVersion(){let e;try{e=this.electron.app?.getVersion()}catch{}return e||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(e){try{return this.electron.app?.getPath(e)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){return void 0!==this.electron.app?.isPackaged?!this.electron.app.isPackaged:"string"==typeof process.execPath?s.basename(process.execPath).toLowerCase().startsWith("electron"):super.isDev()}onAppEvent(e,t){return this.electron.app?.on(e,t),()=>{this.electron.app?.off(e,t)}}onAppReady(e){this.electron.app?.isReady()?e():this.electron.app?.once?this.electron.app?.once("ready",e):e()}onEveryWebContentsEvent(e,t){return this.electron.webContents?.getAllWebContents()?.forEach((r=>{r.on(e,t)})),this.electron.app?.on("web-contents-created",r),()=>{this.electron.webContents?.getAllWebContents().forEach((r=>{r.off(e,t)})),this.electron.app?.off("web-contents-created",r)};function r(r,s){s.on(e,t)}}onIpc(e,t){this.electron.ipcMain?.on(e,t)}onIpcInvoke(e,t){this.electron.ipcMain?.handle?.(e,t)}openUrl(e,t=console.error){this.electron.shell?.openExternal(e).catch(t)}setPreloadFileForSessions({filePath:e,includeFutureSession:t=!0,getSessions:r=()=>[this.electron.session?.defaultSession]}){for(const e of r().filter(Boolean))s(e);function s(t){t.setPreloads([...t.getPreloads(),e])}t&&this.onAppEvent("session-created",(e=>{s(e)}))}sendIpc(e,t){this.electron.BrowserWindow?.getAllWindows()?.forEach((r=>{!1===r.webContents?.isDestroyed()&&r.webContents.send(e,t)}))}showErrorBox(e,t){this.electron.dialog?.showErrorBox(e,t)}}},5200:(e,t,r)=>{"use strict";const s=r(4157),n=r(3535),{initialize:o}=r(3088),a=r(9044),i=new n({electron:s}),c=a({dependencies:{externalApi:i},initializeFn:o});function l(e){c.Logger.getInstance(e)?.processMessage(e)}e.exports=c,i.onIpc("__ELECTRON_LOG__",((e,t)=>{t.scope&&c.Logger.getInstance(t).scope(t.scope);const r=new Date(t.date);l({...t,date:r.getTime()?r:new Date})})),i.onIpcInvoke("__ELECTRON_LOG__",((e,{cmd:t="",logId:r})=>"getOptions"===t?{levels:c.Logger.getInstance({logId:r}).levels,logId:r}:(l({data:[`Unknown cmd '${t}'`],level:"error"}),{})))},3088:(e,t,r)=>{"use strict";const s=r(9896),n=r(857),o=r(6928),a=r(7165);e.exports={initialize({externalApi:e,getSessions:t,includeFutureSession:i,logger:c,preload:l=!0,spyRendererConsole:p=!1}){e.onAppReady((()=>{try{l&&function({externalApi:e,getSessions:t,includeFutureSession:i,preloadOption:c}){let l="string"==typeof c?c:void 0;try{l=r.ab+"electron-log-preload.js"}catch{}if(!l||!s.existsSync(l)){l=o.join(e.getAppUserDataPath()||n.tmpdir(),"electron-log-preload.js");const t=`\n      try {\n        (${a.toString()})(require('electron'));\n      } catch(e) {\n        console.error(e);\n      }\n    `;s.writeFileSync(r.ab+"electron-log-preload.js",t,"utf8")}e.setPreloadFileForSessions({filePath:r.ab+"electron-log-preload.js",includeFutureSession:i,getSessions:t})}({externalApi:e,getSessions:t,includeFutureSession:i,preloadOption:l}),p&&function({externalApi:e,logger:t}){const r=["verbose","info","warning","error"];e.onEveryWebContentsEvent("console-message",((e,s,n)=>{t.processMessage({data:[n],level:r[s],variables:{processType:"renderer"}})}))}({externalApi:e,logger:c})}catch(e){c.warn(e)}}))}}},9027:e=>{"use strict";e.exports=class{externalApi=void 0;isActive=!1;logFn=void 0;onError=void 0;showDialog=!0;constructor({externalApi:e,logFn:t,onError:r,showDialog:s}={}){this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:e,logFn:t,onError:r,showDialog:s}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(e,{logFn:t=this.logFn,onError:r=this.onError,processType:s="browser",showDialog:n=this.showDialog,errorName:o=""}={}){e=function(e){if(e instanceof Error)return e;if(e&&"object"==typeof e){if(e.message)return Object.assign(new Error(e.message),e);try{return new Error(JSON.stringify(e))}catch(t){return new Error(`Couldn't normalize error ${String(e)}: ${t}`)}}return new Error(`Can't normalize error ${String(e)}`)}(e);try{if("function"==typeof r){const t=this.externalApi?.getVersions()||{};if(!1===r({createIssue:this.createIssue,error:e,errorName:o,processType:s,versions:t}))return}o?t(o,e):t(e),n&&!o.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${s} process`,e.stack)}catch{console.error(e)}}setOptions({externalApi:e,logFn:t,onError:r,showDialog:s}){"object"==typeof e&&(this.externalApi=e),"function"==typeof t&&(this.logFn=t),"function"==typeof r&&(this.onError=r),"boolean"==typeof s&&(this.showDialog=s)}startCatching({onError:e,showDialog:t}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:e,showDialog:t}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(e,t){this.externalApi?.openUrl(`${e}?${new URLSearchParams(t).toString()}`)}handleError(e){this.handle(e,{errorName:"Unhandled"})}handleRejection(e){const t=e instanceof Error?e:new Error(JSON.stringify(e));this.handle(t,{errorName:"Unhandled rejection"})}}},993:e=>{"use strict";e.exports=class{disposers=[];format="{eventSource}#{eventName}:";formatters={app:{"certificate-error":({args:e})=>this.arrayToObject(e.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:e})=>1===e.length?e[0]:e,"render-process-gone":({args:[e,t]})=>t&&"object"==typeof t?{...t,...this.getWebContentsDetails(e)}:[]},webContents:{"console-message":({args:[e,t,r,s]})=>{if(!(e<3))return{message:t,source:`${s}:${r}`}},"did-fail-load":({args:e})=>this.arrayToObject(e,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:e})=>this.arrayToObject(e,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:e})=>this.arrayToObject(e,["name","version"]),"preload-error":({args:e})=>this.arrayToObject(e,["preloadPath","error"])}};events={app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}};externalApi=void 0;level="error";scope="";constructor(e={}){this.setOptions(e)}setOptions({events:e,externalApi:t,level:r,logger:s,format:n,formatters:o,scope:a}){"object"==typeof e&&(this.events=e),"object"==typeof t&&(this.externalApi=t),"string"==typeof r&&(this.level=r),"object"==typeof s&&(this.logger=s),"string"!=typeof n&&"function"!=typeof n||(this.format=n),"object"==typeof o&&(this.formatters=o),"string"==typeof a&&(this.scope=a)}startLogging(e={}){this.setOptions(e),this.disposeListeners();for(const e of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(e,((...t)=>{this.handleEvent({eventSource:"app",eventName:e,handlerArgs:t})})));for(const e of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(e,((...t)=>{this.handleEvent({eventSource:"webContents",eventName:e,handlerArgs:t})})))}stopLogging(){this.disposeListeners()}arrayToObject(e,t){const r={};return t.forEach(((t,s)=>{r[t]=e[s]})),e.length>t.length&&(r.unknownArgs=e.slice(t.length)),r}disposeListeners(){this.disposers.forEach((e=>e())),this.disposers=[]}formatEventLog({eventName:e,eventSource:t,handlerArgs:r}){const[s,...n]=r;if("function"==typeof this.format)return this.format({args:n,event:s,eventName:e,eventSource:t});const o=this.formatters[t]?.[e];let a=n;if("function"==typeof o&&(a=o({args:n,event:s,eventName:e,eventSource:t})),!a)return;const i={};return Array.isArray(a)?i.args=a:"object"==typeof a&&Object.assign(i,a),"webContents"===t&&Object.assign(i,this.getWebContentsDetails(s?.sender)),[this.format.replace("{eventSource}","app"===t?"App":"WebContents").replace("{eventName}",e),i]}getEventNames(e){return e&&"object"==typeof e?Object.entries(e).filter((([e,t])=>t)).map((([e])=>e)):[]}getWebContentsDetails(e){if(!e?.loadURL)return{};try{return{webContents:{id:e.id,url:e.getURL()}}}catch{return{}}}handleEvent({eventName:e,eventSource:t,handlerArgs:r}){const s=this.formatEventLog({eventName:e,eventSource:t,handlerArgs:r});if(s){const e=this.scope?this.logger.scope(this.scope):this.logger;e?.[this.level]?.(...s)}}}},8872:(e,t,r)=>{"use strict";const s=r(5317),n=r(857),o=r(6928),a=r(9351);e.exports=class{appName=void 0;appPackageJson=void 0;platform=process.platform;getAppLogPath(e=this.getAppName()){return"darwin"===this.platform?o.join(this.getSystemPathHome(),"Library/Logs",e):o.join(this.getAppUserDataPath(e),"logs")}getAppName(){const e=this.appName||this.getAppPackageJson()?.name;if(!e)throw new Error("electron-log can't determine the app name. It tried these methods:\n1. Use `electron.app.name`\n2. Use productName or name from the nearest package.json`\nYou can also set it through log.transports.file.setAppName()");return e}getAppPackageJson(){return"object"!=typeof this.appPackageJson&&(this.appPackageJson=a.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(e=this.getAppName()){return e?o.join(this.getSystemPathAppData(),e):void 0}getAppVersion(){return this.getAppPackageJson()?.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const e=Number(n.release().split(".")[0]);return e<=19?"10."+(e-4):e-9}getOsVersion(){let e=n.type().replace("_"," "),t=n.release();return"Darwin"===e&&(e="macOS",t=this.getMacOsVersion()),`${e} ${t}`}getPathVariables(){const e=this.getAppName(),t=this.getAppVersion(),r=this;return{appData:this.getSystemPathAppData(),appName:e,appVersion:t,get electronDefaultDir(){return r.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(e),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(e)}}getSystemPathAppData(){const e=this.getSystemPathHome();switch(this.platform){case"darwin":return o.join(e,"Library/Application Support");case"win32":return process.env.APPDATA||o.join(e,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||o.join(e,".config")}}getSystemPathHome(){return n.homedir?.()||process.env.HOME}getSystemPathTemp(){return n.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return"1"===process.env.ELECTRON_IS_DEV}isElectron(){return Boolean(process.versions.electron)}onAppEvent(e,t){}onAppReady(e){e()}onEveryWebContentsEvent(e,t){}onIpc(e,t){}onIpcInvoke(e,t){}openUrl(e,t=console.error){const r={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";s.exec(`${r} ${e}`,{},(e=>{e&&t(e)}))}setAppName(e){this.appName=e}setPlatform(e){this.platform=e}setPreloadFileForSessions({filePath:e,includeFutureSession:t=!0,getSessions:r=()=>[]}){}sendIpc(e,t){}showErrorBox(e,t){}}},9044:(e,t,r)=>{"use strict";const s=r(728),n=r(9027),o=r(993),a=r(6197),i=r(5199),c=r(2110),l=r(3896);e.exports=function({dependencies:e,initializeFn:t}){const r=new s({dependencies:e,errorHandler:new n,eventLogger:new o,initializeFn:t,isDev:e.externalApi?.isDev(),logId:"default",transportFactories:{console:a,file:i,ipc:c,remote:l},variables:{processType:"main"}});return r.default=r,r.Logger=s,r.processInternalErrorFn=e=>{r.transports.console.writeFn({message:{data:["Unhandled electron-log error",e],level:"error"}})},r}},7901:(e,t,r)=>{"use strict";const s=r(8872),n=r(9044)({dependencies:{externalApi:new s}});e.exports=n},9351:(e,t,r)=>{"use strict";const s=r(9896),n=r(6928);function o(...e){if(e[0])try{const t=function(e,t){let r=t;for(;;){const t=n.parse(r),o=t.root,a=t.dir;if(s.existsSync(n.join(r,e)))return n.resolve(n.join(r,e));if(r===o)return null;r=a}}("package.json",n.join(...e));if(!t)return;const r=JSON.parse(s.readFileSync(t,"utf8")),o=r?.productName||r?.name;if(!o||"electron"===o.toLowerCase())return;return o?{name:o,version:r?.version}:void 0}catch(e){return}}e.exports={findAndReadPackageJson:function(){return o(function(){try{return require.main?.filename}catch{return}}())||o(function(){const e=process.argv.filter((e=>0===e.indexOf("--user-data-dir=")));return 0===e.length||"string"!=typeof e[0]?null:e[0].replace("--user-data-dir=","")}())||o(process.resourcesPath,"app.asar")||o(process.resourcesPath,"app")||o(process.cwd())||{name:void 0,version:void 0}},tryReadJsonAt:o}},8264:(e,t,r)=>{"use strict";const{transform:s}=r(6019);function n(e){const t=Math.abs(e);return`${e>=0?"-":"+"}${Math.floor(t/60).toString().padStart(2,"0")}:${(t%60).toString().padStart(2,"0")}`}function o({data:e,logger:t,message:r}){const{defaultLabel:s,labelLength:n}=t?.scope||{},o=e[0];let a,i=r.scope;return i||(i=s),a=""===i?n>0?"".padEnd(n+3):"":"string"==typeof i?` (${i})`.padEnd(n+3):"",e[0]=o.replace("{scope}",a),e}function a({data:e,message:t}){let r=e[0];if("string"!=typeof r)return e;r=r.replace("{level}]",`${t.level}]`.padEnd(6," "));const s=t.date||new Date;return e[0]=r.replace(/\{(\w+)}/g,((e,r)=>{switch(r){case"level":return t.level||"info";case"logId":return t.logId;case"y":return s.getFullYear().toString(10);case"m":return(s.getMonth()+1).toString(10).padStart(2,"0");case"d":return s.getDate().toString(10).padStart(2,"0");case"h":return s.getHours().toString(10).padStart(2,"0");case"i":return s.getMinutes().toString(10).padStart(2,"0");case"s":return s.getSeconds().toString(10).padStart(2,"0");case"ms":return s.getMilliseconds().toString(10).padStart(3,"0");case"z":return n(s.getTimezoneOffset());case"iso":return s.toISOString();default:return t.variables?.[r]||e}})).trim(),e}function i({data:e}){const t=e[0];if("string"!=typeof t)return e;if(t.lastIndexOf("{text}")===t.length-6)return e[0]=t.replace(/\s?{text}/,""),""===e[0]&&e.shift(),e;const r=t.split("{text}");let s=[];return""!==r[0]&&s.push(r[0]),s=s.concat(e.slice(1)),""!==r[1]&&s.push(r[1]),s}e.exports={concatFirstStringElements:function({data:e}){return"string"!=typeof e[0]||"string"!=typeof e[1]||e[0].match(/%[1cdfiOos]/)?e:[`${e[0]} ${e[1]}`,...e.slice(2)]},formatScope:o,formatText:i,formatVariables:a,timeZoneFromOffset:n,format({message:e,logger:t,transport:r,data:n=e?.data}){switch(typeof r.format){case"string":return s({message:e,logger:t,transforms:[a,o,i],transport:r,initialData:[r.format,...n]});case"function":return r.format({data:n,level:e?.level||"info",logger:t,message:e,transport:r});default:return n}}}},700:(e,t,r)=>{"use strict";const s=r(9023);function n(e={}){const t=new WeakSet;return function(r,s){if("object"==typeof s&&null!==s){if(t.has(s))return;t.add(s)}return o(0,s,e)}}function o(e,t,r={}){const s=!1!==r?.serializeMapAndSet;return t instanceof Error?t.stack:t?"function"==typeof t?`[function] ${t.toString()}`:t instanceof Date?t.toISOString():s&&t instanceof Map&&Object.fromEntries?Object.fromEntries(t):s&&t instanceof Set&&Array.from?Array.from(t):t:t}e.exports={serialize:o,maxDepth({data:t,transport:r,depth:s=r?.depth??6}){if(!t)return t;if(s<1)return Array.isArray(t)?"[array]":"object"==typeof t&&t?"[object]":t;if(Array.isArray(t))return t.map((t=>e.exports.maxDepth({data:t,depth:s-1})));if("object"!=typeof t)return t;if(t&&"function"==typeof t.toISOString)return t;if(null===t)return null;if(t instanceof Error)return t;const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e.exports.maxDepth({data:t[r],depth:s-1}));return n},toJSON:({data:e})=>JSON.parse(JSON.stringify(e,n())),toString({data:e,transport:t}){const r=t?.inspectOptions||{},o=e.map((e=>{if(void 0!==e)try{const t=JSON.stringify(e,n(),"  ");return void 0===t?void 0:JSON.parse(t)}catch(t){return e}}));return s.formatWithOptions(r,...o)}}},7366:e=>{"use strict";e.exports={transformStyles:n,applyAnsiStyles:({data:e})=>n(e,r,s),removeStyles:({data:e})=>n(e,(()=>""))};const t={unset:"[0m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m"};function r(e){const r=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return t[r]||""}function s(e){return e+t.unset}function n(e,t,r){const s={};return e.reduce(((e,n,o,a)=>{if(s[o])return e;if("string"==typeof n){let e=o,i=!1;n=n.replace(/%[1cdfiOos]/g,(r=>{if(e+=1,"%c"!==r)return r;const o=a[e];return"string"==typeof o?(s[e]=!0,i=!0,t(o,n)):r})),i&&r&&(n=r(n))}return e.push(n),e}),[])}},6019:e=>{"use strict";e.exports={transform:function({logger:e,message:t,transport:r,initialData:s=t?.data||[],transforms:n=r?.transforms}){return n.reduce(((s,n)=>"function"==typeof n?n({data:s,logger:e,message:t,transport:r}):s),s)}}},6197:(e,t,r)=>{"use strict";const{concatFirstStringElements:s,format:n}=r(8264),{maxDepth:o,toJSON:a}=r(700),{applyAnsiStyles:i,removeStyles:c}=r(7366),{transform:l}=r(6019),p={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};e.exports=d;const u=`%c{h}:{i}:{s}.{ms}{scope}%c ${"win32"===process.platform?">":"â€º"} {text}`;function d(e){return Object.assign((function t(r){const s=l({logger:e,message:r,transport:t});t.writeFn({message:{...r,data:s}})}),{format:u,level:"silly",transforms:[h,n,g,s,o,a],useStyles:process.env.FORCE_STYLES,writeFn({message:e}){(p[e.level]||p.info)(...e.data)}})}function h({data:e,message:t,transport:r}){return r.format!==u?e:[`color:${f(t.level)}`,"color:unset",...e]}function g(e){const{message:t,transport:r}=e;return(function(e,t){if("boolean"==typeof e)return e;const r="error"===t||"warn"===t?process.stderr:process.stdout;return r&&r.isTTY}(r.useStyles,t.level)?i:c)(e)}function f(e){const t={error:"red",warn:"yellow",info:"cyan",default:"unset"};return t[e]||t.default}Object.assign(d,{DEFAULT_FORMAT:u})},5389:(e,t,r)=>{"use strict";const s=r(4434),n=r(9896),o=r(857);e.exports=class extends s{asyncWriteQueue=[];bytesWritten=0;hasActiveAsyncWriting=!1;path=null;initialSize=void 0;writeOptions=null;writeAsync=!1;constructor({path:e,writeOptions:t={encoding:"utf8",flag:"a",mode:438},writeAsync:r=!1}){super(),this.path=e,this.writeOptions=t,this.writeAsync=r}get size(){return this.getSize()}clear(){try{return n.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(e){return"ENOENT"===e.code||(this.emit("error",e,this),!1)}}crop(e){try{const t=function(e,t){const r=Buffer.alloc(t),s=n.statSync(e),o=Math.min(s.size,t),a=Math.max(0,s.size-t),i=n.openSync(e,"r"),c=n.readSync(i,r,0,o,a);return n.closeSync(i),r.toString("utf8",0,c)}(this.path,e||4096);this.clear(),this.writeLine(`[log cropped]${o.EOL}${t}`)}catch(e){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${e.message}`),this)}}getSize(){if(void 0===this.initialSize)try{const e=n.statSync(this.path);this.initialSize=e.size}catch(e){this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(e){this.bytesWritten+=Buffer.byteLength(e,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const e=this;if(this.hasActiveAsyncWriting||0===this.asyncWriteQueue.length)return;const t=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,n.writeFile(this.path,t,this.writeOptions,(r=>{e.hasActiveAsyncWriting=!1,r?e.emit("error",new Error(`Couldn't write to ${e.path}. ${r.message}`),this):e.increaseBytesWrittenCounter(t),e.nextAsyncWrite()}))}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(e){if(e+=o.EOL,this.writeAsync)return this.asyncWriteQueue.push(e),void this.nextAsyncWrite();try{n.writeFileSync(this.path,e,this.writeOptions),this.increaseBytesWrittenCounter(e)}catch(e){this.emit("error",new Error(`Couldn't write to ${this.path}. ${e.message}`),this)}}}},5938:(e,t,r)=>{"use strict";const s=r(4434),n=r(9896),o=r(6928),a=r(5389),i=r(8156);e.exports=class extends s{store={};constructor(){super(),this.emitError=this.emitError.bind(this)}provide({filePath:e,writeOptions:t={},writeAsync:r=!1}){let s;try{if(e=o.resolve(e),this.store[e])return this.store[e];s=this.createFile({filePath:e,writeOptions:t,writeAsync:r})}catch(t){s=new i({path:e}),this.emitError(t,s)}return s.on("error",this.emitError),this.store[e]=s,s}createFile({filePath:e,writeOptions:t,writeAsync:r}){return this.testFileWriting({filePath:e,writeOptions:t}),new a({path:e,writeOptions:t,writeAsync:r})}emitError(e,t){this.emit("error",e,t)}testFileWriting({filePath:e,writeOptions:t}){n.mkdirSync(o.dirname(e),{recursive:!0}),n.writeFileSync(e,"",{flag:"a",mode:t.mode})}}},8156:(e,t,r)=>{"use strict";const s=r(5389);e.exports=class extends s{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}}},5199:(e,t,r)=>{"use strict";const s=r(9896),n=r(857),o=r(6928),a=r(5938),{transform:i}=r(6019),{removeStyles:c}=r(7366),{format:l,concatFirstStringElements:p}=r(8264),{toString:u}=r(700);e.exports=function(e,{registry:t=d,externalApi:r}={}){let a;return t.listenerCount("error")<1&&t.on("error",((e,t)=>{m(`Can't write to ${t}`,e)})),Object.assign(g,{fileName:h(e.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:v,inspectOptions:{depth:5},level:"silly",maxSize:1048576,readAllLogs:function({fileFilter:e=e=>e.endsWith(".log")}={}){f();const t=o.dirname(g.resolvePathFn(a));return s.existsSync(t)?s.readdirSync(t).map((e=>o.join(t,e))).filter(e).map((e=>{try{return{path:e,lines:s.readFileSync(e,"utf8").split(n.EOL)}}catch{return null}})).filter(Boolean):[]},sync:!0,transforms:[c,l,p,u],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(e){const t=e.toString(),r=o.parse(t);try{s.renameSync(t,o.join(r.dir,`${r.name}.old${r.ext}`))}catch(t){m("Could not rotate log",t);const r=Math.round(g.maxSize/4);e.crop(Math.min(r,262144))}},resolvePathFn:e=>o.join(e.libraryDefaultDir,e.fileName),setAppName(t){e.dependencies.externalApi.setAppName(t)}});function g(t){const r=v(t);g.maxSize>0&&r.size>g.maxSize&&(g.archiveLogFn(r),r.reset());const s=i({logger:e,message:t,transport:g});r.writeLine(s)}function f(){a||(a=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(r.getPathVariables()),fileName:{get:()=>g.fileName,enumerable:!0}}),"function"==typeof g.archiveLog&&(g.archiveLogFn=g.archiveLog,m("archiveLog is deprecated. Use archiveLogFn instead")),"function"==typeof g.resolvePath&&(g.resolvePathFn=g.resolvePath,m("resolvePath is deprecated. Use resolvePathFn instead")))}function m(t,r=null,s="error"){const n=[`electron-log.transports.file: ${t}`];r&&n.push(r),e.transports.console({data:n,date:new Date,level:s})}function v(e){f();const r=g.resolvePathFn(a,e);return t.provide({filePath:r,writeAsync:!g.sync,writeOptions:g.writeOptions})}};const d=new a;function h(e=process.type){switch(e){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}},2110:(e,t,r)=>{"use strict";const{maxDepth:s,toJSON:n}=r(700),{transform:o}=r(6019);e.exports=function(e,{externalApi:t}){return Object.assign(r,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:!!e.isDev&&"silly",transforms:[n,s]}),t?.isElectron()?r:void 0;function r(s){"renderer"!==s?.variables?.processType&&t?.sendIpc(r.eventId,{...s,data:o({logger:e,message:s,transport:r})})}}},3896:(e,t,r)=>{"use strict";const s=r(8611),n=r(5692),{transform:o}=r(6019),{removeStyles:a}=r(7366),{toJSON:i,maxDepth:c}=r(700);e.exports=function(e){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[a,i,c],makeBodyFn:({message:e})=>JSON.stringify({client:t.client,data:e.data,date:e.date.getTime(),level:e.level,scope:e.scope,variables:e.variables}),processErrorFn({error:r}){e.processMessage({data:[`electron-log: can't POST ${t.url}`,r],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:e,requestOptions:t,body:r}){const o=(e.startsWith("https:")?n:s).request(e,{method:"POST",...t,headers:{"Content-Type":"application/json","Content-Length":r.length,...t.headers}});return o.write(r),o.end(),o}});function t(r){if(!t.url)return;const s=t.makeBodyFn({logger:e,message:{...r,data:o({logger:e,message:r,transport:t})},transport:t}),n=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(s,"utf8")});n.on("error",(s=>t.processErrorFn({error:s,logger:e,message:r,request:n,transport:t})))}}},7165:(e,t,r)=>{"use strict";let s={};try{s=r(4157)}catch(e){}function n({contextBridge:e,ipcRenderer:t}){if(!t)return;t.on("__ELECTRON_LOG_IPC__",((e,t)=>{window.postMessage({cmd:"message",...t})})),t.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch((e=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${e.message}`))));const r={sendToMain(e){try{t.send("__ELECTRON_LOG__",e)}catch(r){console.error("electronLog.sendToMain ",r,"data:",e),t.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:r?.message,stack:r?.stack},errorName:"sendToMain"})}},log(...e){r.sendToMain({data:e,level:"info"})}};for(const e of["error","warn","info","verbose","debug","silly"])r[e]=(...t)=>r.sendToMain({data:t,level:e});if(e&&process.contextIsolated)try{e.exposeInMainWorld("__electronLog",r)}catch{}"object"==typeof window?window.__electronLog=r:__electronLog=r}s.ipcRenderer&&n(s),e.exports=n},1610:(e,t,r)=>{"use strict";const s=r(728),n=r(5009),o=r(4164),a=r(4339);e.exports=function(){const e=new s({allowUnknownLevel:!0,errorHandler:new n,initializeFn:()=>{},logId:"default",transportFactories:{console:o,ipc:a},variables:{processType:"renderer"}});return e.errorHandler.setOptions({logFn({error:t,errorName:r,showDialog:s}){e.transports.console({data:[r,t].filter(Boolean),level:"error"}),e.transports.ipc({cmd:"errorHandler",error:{cause:t?.cause,code:t?.code,name:t?.name,message:t?.message,stack:t?.stack},errorName:r,logId:e.logId,showDialog:s})}}),"object"==typeof window&&window.addEventListener("message",(e=>{const{cmd:t,logId:r,...n}=e.data||{},o=s.getInstance({logId:r});"message"===t&&o.processMessage(n,{transports:["console"]})})),new Proxy(e,{get:(t,r)=>void 0!==t[r]?t[r]:(...t)=>e.logData(t,{level:r})})}(),e.exports.Logger=s,e.exports.default=e.exports},5009:e=>{"use strict";const t=console.error;e.exports=class{logFn=null;onError=null;showDialog=!1;preventDefault=!0;constructor({logFn:e=null}={}){this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.startCatching=this.startCatching.bind(this),this.logFn=e}handle(e,{logFn:r=this.logFn,errorName:s="",onError:n=this.onError,showDialog:o=this.showDialog}={}){try{!1!==n?.({error:e,errorName:s,processType:"renderer"})&&r({error:e,errorName:s,showDialog:o})}catch{t(e)}}setOptions({logFn:e,onError:t,preventDefault:r,showDialog:s}){"function"==typeof e&&(this.logFn=e),"function"==typeof t&&(this.onError=t),"boolean"==typeof r&&(this.preventDefault=r),"boolean"==typeof s&&(this.showDialog=s)}startCatching({onError:e,showDialog:t}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:e,showDialog:t}),window.addEventListener("error",(e=>{this.preventDefault&&e.preventDefault?.(),this.handleError(e.error||e)})),window.addEventListener("unhandledrejection",(e=>{this.preventDefault&&e.preventDefault?.(),this.handleRejection(e.reason||e)})))}handleError(e){this.handle(e,{errorName:"Unhandled"})}handleRejection(e){const t=e instanceof Error?e:new Error(JSON.stringify(e));this.handle(t,{errorName:"Unhandled rejection"})}}},4164:e=>{"use strict";e.exports=function(e){return Object.assign(r,{format:"{h}:{i}:{s}.{ms}{scope} â€º {text}",formatDataFn:({data:t=[],date:s=new Date,format:n=r.format,logId:o=e.logId,scope:a=e.scopeName,...i})=>"function"==typeof n?n({...i,data:t,date:s,logId:o,scope:a}):("string"!=typeof n||(t.unshift(n),"string"==typeof t[1]&&t[1].match(/%[1cdfiOos]/)&&(t=[`${t[0]} ${t[1]}`,...t.slice(2)]),t[0]=t[0].replace(/\{(\w+)}/g,((e,t)=>{switch(t){case"level":return i.level;case"logId":return o;case"scope":return a?` (${a})`:"";case"text":return"";case"y":return s.getFullYear().toString(10);case"m":return(s.getMonth()+1).toString(10).padStart(2,"0");case"d":return s.getDate().toString(10).padStart(2,"0");case"h":return s.getHours().toString(10).padStart(2,"0");case"i":return s.getMinutes().toString(10).padStart(2,"0");case"s":return s.getSeconds().toString(10).padStart(2,"0");case"ms":return s.getMilliseconds().toString(10).padStart(3,"0");case"iso":return s.toISOString();default:return i.variables?.[t]||e}})).trim()),t),writeFn({message:{level:e,data:r}}){const s=t[e]||t.info;setTimeout((()=>s(...r)))}});function r(e){r.writeFn({message:{...e,data:r.formatDataFn(e)}})}};const t={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log}},4339:e=>{"use strict";e.exports=function(e){return Object.assign(s,{depth:5,serializeFn:(e,{depth:n=5,seen:o=new WeakSet}={})=>o.has(e)?"[Circular]":n<1?r(e)?e:Array.isArray(e)?"[Array]":`[${typeof e}]`:["function","symbol"].includes(typeof e)?e.toString():r(e)?e:t.has(e.constructor)?`[${e.constructor.name}]`:Array.isArray(e)?e.map((e=>s.serializeFn(e,{depth:n-1,seen:o}))):e instanceof Date?e.toISOString():e instanceof Error?e.stack:e instanceof Map?new Map(Array.from(e).map((([e,t])=>[s.serializeFn(e,{depth:n-1,seen:o}),s.serializeFn(t,{depth:n-1,seen:o})]))):e instanceof Set?new Set(Array.from(e).map((e=>s.serializeFn(e,{depth:n-1,seen:o})))):(o.add(e),Object.fromEntries(Object.entries(e).map((([e,t])=>[e,s.serializeFn(t,{depth:n-1,seen:o})]))))});function s(t){if(window.__electronLog)try{__electronLog.sendToMain(s.serializeFn(t,{depth:s.depth}))}catch(r){e.transports.console({data:["electronLog.transports.ipc",r,"data:",t.data],level:"error"})}else e.processMessage({data:["electron-log: logger isn't initialized in the main process"],level:"error"},{transports:["console"]})}};const t=new Set([Promise,WeakMap,WeakSet]);function r(e){return Object(e)!==e}},9132:(e,t,r)=>{var s=r(6928),n=r(5317).spawn,o=r(5014)("electron-squirrel-startup"),a=r(4157).app,i=function(e,t){var r=s.resolve(s.dirname(process.execPath),"..","Update.exe");o("Spawning `%s` with args `%s`",r,e),n(r,e,{detached:!0}).on("close",t)};e.exports=function(){if("win32"===process.platform){var e=process.argv[1];o("processing squirrel command `%s`",e);var t=s.basename(process.execPath);if("--squirrel-install"===e||"--squirrel-updated"===e)return i(["--createShortcut="+t],a.quit),!0;if("--squirrel-uninstall"===e)return i(["--removeShortcut="+t],a.quit),!0;if("--squirrel-obsolete"===e)return a.quit(),!0}return!1}()},9717:(e,t,r)=>{"use strict";var s=r(9849),n=/(?:(?:[^:]+:)?[/][/])?(?:.+@)?([^/]+)([/][^?#]+)/;e.exports=function(e,t){var r={};if(t=t||{},!e)return null;if(e.url&&(e=e.url),"string"!=typeof e)return null;var o=e.match(/^([\w-_]+)\/([\w-_\.]+)(?:#([\w-_\.]+))?$/),a=e.match(/^github:([\w-_]+)\/([\w-_\.]+)(?:#([\w-_\.]+))?$/),i=e.match(/^git@[\w-_\.]+:([\w-_]+)\/([\w-_\.]+)$/);if(o)r.user=o[1],r.repo=o[2],r.branch=o[3]||"master",r.host="github.com";else if(a)r.user=a[1],r.repo=a[2],r.branch=a[3]||"master",r.host="github.com";else if(i)r.user=i[1],r.repo=i[2].replace(/\.git$/i,""),r.branch="master",r.host="github.com";else{if(e=e.replace(/^git\+/,""),!s(e))return null;var c=e.match(n)||[],l=c[1],p=c[2];if(!l)return null;if("github.com"!==l&&"www.github.com"!==l&&!t.enterprise)return null;var u=p.match(/^\/([\w-_]+)\/([\w-_\.]+)(\/tree\/[\%\w-_\.\/]+)?(\/blob\/[\%\w-_\.\/]+)?/);if(!u)return null;if(r.user=u[1],r.repo=u[2].replace(/\.git$/i,""),r.host=l||"github.com",u[3]&&/^\/tree\/master\//.test(u[3]))r.branch="master",r.path=u[3].replace(/\/$/,"");else if(u[3]){var d=u[3].replace(/^\/tree\//,"").match(/[\%\w-_.]*\/?[\%\w-_]+/);r.branch=d&&d[0]}else u[4]?(d=u[4].replace(/^\/blob\//,"").match(/[\%\w-_.]*\/?[\%\w-_]+/),r.branch=d&&d[0]):r.branch="master"}return"github.com"===r.host?r.apiHost="api.github.com":r.apiHost=r.host+"/api/v3",r.tarball_url="https://"+r.apiHost+"/repos/"+r.user+"/"+r.repo+"/tarball/"+r.branch,r.clone_url="https://"+r.host+"/"+r.user+"/"+r.repo,"master"===r.branch?(r.https_url="https://"+r.host+"/"+r.user+"/"+r.repo,r.travis_url="https://travis-ci.org/"+r.user+"/"+r.repo,r.zip_url="https://"+r.host+"/"+r.user+"/"+r.repo+"/archive/master.zip"):(r.https_url="https://"+r.host+"/"+r.user+"/"+r.repo+"/blob/"+r.branch,r.travis_url="https://travis-ci.org/"+r.user+"/"+r.repo+"?branch="+r.branch,r.zip_url="https://"+r.host+"/"+r.user+"/"+r.repo+"/archive/"+r.branch+".zip"),r.path&&(r.https_url+=r.path),r.api_url="https://"+r.apiHost+"/repos/"+r.user+"/"+r.repo,r}},9849:e=>{e.exports=function(e){if("string"!=typeof e)return!1;var n=e.match(t);if(!n)return!1;var o=n[1];return!!o&&!(!r.test(o)&&!s.test(o))};var t=/^(?:\w+:)?\/\/(\S+)$/,r=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,s=/^[^\s\.]+\.\S{2,}$/},5438:e=>{var t=1e3,r=60*t,s=60*r,n=24*s;function o(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,a){a=a||{};var i,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*n;case"hours":case"hour":case"hrs":case"hr":case"h":return a*s;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return a.long?o(i=e,n,"day")||o(i,s,"hour")||o(i,r,"minute")||o(i,t,"second")||i+" ms":function(e){return e>=n?Math.round(e/n)+"d":e>=s?Math.round(e/s)+"h":e>=r?Math.round(e/r)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1520:e=>{var t=1e3,r=60*t,s=60*r,n=24*s,o=7*n;function a(e,t,r,s){var n=t>=1.5*r;return Math.round(e/r)+" "+s+(n?"s":"")}e.exports=function(e,i){i=i||{};var c,l,p=typeof e;if("string"===p&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var i=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return i*o;case"days":case"day":case"d":return i*n;case"hours":case"hour":case"hrs":case"hr":case"h":return i*s;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===p&&isFinite(e))return i.long?(c=e,(l=Math.abs(c))>=n?a(c,l,n,"day"):l>=s?a(c,l,s,"hour"):l>=r?a(c,l,r,"minute"):l>=t?a(c,l,t,"second"):c+" ms"):function(e){var o=Math.abs(e);return o>=n?Math.round(e/n)+"d":o>=s?Math.round(e/s)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7720:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateElectronApp=t.UpdateSourceType=void 0;const n=s(r(2613)),o=s(r(9849)),a=s(r(1520)),i=s(r(9717)),c=s(r(6928)),l=s(r(9896)),p=s(r(857)),u=r(9023),d=r(4157);var h;!function(e){e[e.ElectronPublicUpdateService=0]="ElectronPublicUpdateService",e[e.StaticStorage=1]="StaticStorage"}(h=t.UpdateSourceType||(t.UpdateSourceType={}));const g=r(5465),f=(0,u.format)("%s/%s (%s: %s)",g.name,g.version,p.default.platform(),p.default.arch()),m=["darwin","win32"];function v(e){const{updateSource:t,updateInterval:r,logger:s,electron:n}=e;if(!m.includes(null===process||void 0===process?void 0:process.platform))return void d(`Electron's autoUpdater does not support the '${process.platform}' platform. Ref: https://www.electronjs.org/docs/latest/api/auto-updater#platform-notices`);const{app:o,autoUpdater:i,dialog:c}=n;let l,p="default";switch(t.type){case h.ElectronPublicUpdateService:l=`${t.host}/${t.repo}/${process.platform}-${process.arch}/${o.getVersion()}`;break;case h.StaticStorage:l=t.baseUrl,"darwin"===process.platform&&(l+="/RELEASES.json",p="json")}const u={"User-Agent":f};function d(...e){s.log(...e)}d("feedURL",l),d("requestHeaders",u),i.setFeedURL({url:l,headers:u,serverType:p}),i.on("error",(e=>{d("updater error"),d(e)})),i.on("checking-for-update",(()=>{d("checking-for-update")})),i.on("update-available",(()=>{d("update-available; downloading...")})),i.on("update-not-available",(()=>{d("update-not-available")})),e.notifyUser&&i.on("update-downloaded",((e,t,r,s,n)=>{d("update-downloaded",[e,t,r,s,n]);const o={type:"info",buttons:["Restart","Later"],title:"Application Update",message:"win32"===process.platform?t:r,detail:"A new version has been downloaded. Restart the application to apply the updates."};c.showMessageBox(o).then((({response:e})=>{0===e&&i.quitAndInstall()}))})),i.checkForUpdates(),setInterval((()=>{i.checkForUpdates()}),(0,a.default)(r))}function y(e){var t;const r=l.default.readFileSync(c.default.join(e.app.getAppPath(),"package.json")),s=JSON.parse(r.toString()),o=(null===(t=s.repository)||void 0===t?void 0:t.url)||s.repository,a=(0,i.default)(o);return(0,n.default)(a,"repo not found. Add repository string to your app's package.json file"),`${a.user}/${a.repo}`}t.updateElectronApp=function(e={}){const t=function(e){var t;const s={host:"https://update.electronjs.org",updateInterval:"10 minutes",logger:console,notifyUser:!0},{host:i,updateInterval:c,logger:l,notifyUser:p}=Object.assign({},s,e),u=e.electron||r(4157);let d=e.updateSource;switch(d||(d={type:h.ElectronPublicUpdateService,repo:e.repo||y(u),host:i}),d.type){case h.ElectronPublicUpdateService:(0,n.default)(null===(t=d.repo)||void 0===t?void 0:t.includes("/"),"repo is required and should be in the format `owner/repo`"),(0,n.default)(d.host&&(0,o.default)(d.host)&&d.host.startsWith("https:"),"host must be a valid HTTPS URL");break;case h.StaticStorage:(0,n.default)(d.baseUrl&&(0,o.default)(d.baseUrl)&&d.baseUrl.startsWith("https:"),"baseUrl must be a valid HTTPS URL")}return(0,n.default)("string"==typeof c&&c.match(/^\d+/),"updateInterval must be a human-friendly string interval like `20 minutes`"),(0,n.default)((0,a.default)(c)>=3e5,"updateInterval must be `5 minutes` or more"),(0,n.default)(l&&typeof l.log,"function"),{updateSource:d,updateInterval:c,logger:l,electron:u,notifyUser:p}}(e);if(d.app.isPackaged)t.electron.app.isReady()?v(t):d.app.on("ready",(()=>v(t)));else{const t="update-electron-app config looks good; aborting updates since app is in development mode";e.logger?e.logger.log(t):console.log(t)}}},7940:function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))((function(n,o){function a(e){try{c(s.next(e))}catch(e){o(e)}}function i(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,i)}c((s=s.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(6928)),a=r(4157),i=n(r(7200)),c=r(7720),l="darwin"===process.platform,p="https://myninja.ai";(0,c.updateElectronApp)({logger:i.default}),a.app.commandLine.appendSwitch("disable-features","CrossOriginOpenerPolicy"),process.defaultApp?process.argv.length>=2&&a.app.setAsDefaultProtocolClient("ninjatech",process.execPath,[o.default.resolve(process.argv[1])]):a.app.setAsDefaultProtocolClient("ninjatech"),a.app.setAppUserModelId("ai.myninja.desktop"),r(9132)&&a.app.quit();const u=process.resourcesPath,d=o.default.resolve(u,"256x256.png");let h=null,g=null;const f=()=>{h=new a.BrowserWindow({show:!1,width:1280,height:832,icon:d,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:require("path").resolve(__dirname,"../renderer","main_window","preload.js")}}),h.maximize(),h.webContents.setWindowOpenHandler((({url:e})=>{const r=t(e);let n="deny";return console.log(r,r.hostname.indexOf("google.com")),-1!==r.hostname.indexOf("google.com")?n="allow":(function(e){s(this,void 0,void 0,(function*(){const r=t(e);if(!r)return;const{protocol:s}=r;if("http:"===s||"https:"===s)try{yield a.shell.openExternal(e)}catch(e){i.default.error(`Failed to open url: ${e}`)}}))}(e),n="deny"),{action:n}})),h.webContents.on("before-input-event",((e,t)=>{t.control&&t.shift&&"i"===t.key.toLowerCase()&&(e.preventDefault(),h.webContents.openDevTools())}));const e=[{label:"Application",submenu:[{label:"About Application",role:"about"},{type:"separator"},{label:"Quit",accelerator:"Command+Q",click:()=>{a.app.quit()}}]},{label:"Edit",submenu:[{label:"Undo",accelerator:"CmdOrCtrl+Z",role:"undo"},{label:"Redo",accelerator:"Shift+CmdOrCtrl+Z",role:"redo"},{type:"separator"},{label:"Cut",accelerator:"CmdOrCtrl+X",role:"cut"},{label:"Copy",accelerator:"CmdOrCtrl+C",role:"copy"},{label:"Paste",accelerator:"CmdOrCtrl+V",role:"paste"},{label:"Select All",accelerator:"CmdOrCtrl+A",role:"selectAll"}]}];function t(e){if("string"==typeof e)try{return new URL(e)}catch(t){i.default.error(`Failed to parse url: ${e}`)}}a.Menu.setApplicationMenu(a.Menu.buildFromTemplate(e)),h.show(),h.on("closed",(()=>{g=null,h=null})),h.webContents.on("will-prevent-unload",(e=>{1===a.dialog.showMessageBoxSync(null,{type:"question",buttons:["Cancel","Leave"],message:"Leave Site?",detail:"Changes that you made may not be saved."})&&e.preventDefault()})),h.webContents.on("context-menu",((e,t)=>{const r=new a.Menu;t.isEditable?(r.append(new a.MenuItem({label:"Cut",role:"cut"})),r.append(new a.MenuItem({label:"Copy",role:"copy"})),r.append(new a.MenuItem({label:"Paste",role:"paste"})),r.popup()):t.selectionText&&(r.append(new a.MenuItem({label:"Copy",role:"copy"})),r.popup())})),h.loadURL(p)};a.app.whenReady().then((()=>{l||new a.Tray(d),f(),a.app.on("activate",(()=>{0===a.BrowserWindow.getAllWindows().length&&f()}))})),a.app.on("open-url",((e,t)=>{console.log("Welcome Back",`You arrived from: ${t}`);const r=t.split("?");h.loadURL(p+"?"+r[1])}))},2613:e=>{"use strict";e.exports=require("assert")},5317:e=>{"use strict";e.exports=require("child_process")},4157:e=>{"use strict";e.exports=require("electron")},4434:e=>{"use strict";e.exports=require("events")},9896:e=>{"use strict";e.exports=require("fs")},8611:e=>{"use strict";e.exports=require("http")},5692:e=>{"use strict";e.exports=require("https")},9278:e=>{"use strict";e.exports=require("net")},857:e=>{"use strict";e.exports=require("os")},6928:e=>{"use strict";e.exports=require("path")},2018:e=>{"use strict";e.exports=require("tty")},9023:e=>{"use strict";e.exports=require("util")},5465:e=>{"use strict";e.exports=JSON.parse('{"name":"update-electron-app","version":"3.0.0","description":"A drop-in module that adds autoUpdating capabilities to Electron apps","repository":"https://github.com/electron/update-electron-app","main":"dist/index.js","types":"dist/index.d.ts","license":"MIT","dependencies":{"github-url-to-object":"^4.0.4","is-url":"^1.2.4","ms":"^2.1.1"},"devDependencies":{"@continuous-auth/semantic-release-npm":"^3.0.0","@types/github-url-to-object":"^4.0.1","@types/is-url":"^1.2.30","@types/ms":"^0.7.31","electron":"^22.0.0","jest":"^29.0.0","prettier":"^3.0.3","standard":"^14.3.4","standard-markdown":"^6.0.0","tsd":"^0.25.0","typescript":"^4.9.4"},"scripts":{"prepare":"tsc","test":"jest && tsd && standard --fix && standard-markdown","watch":"jest --watch --notify --notifyMode=change --coverage"},"tsd":{"directory":"test"},"standard":{"env":{"jest":true}}}')}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,r),o.exports}void 0!==r&&(r.ab=__dirname+"/native_modules/");var s=r(7940);module.exports=s})();
//# sourceMappingURL=index.js.map"use str
